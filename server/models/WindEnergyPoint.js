var mongoose = require('mongoose');

//create a schema
var Schema = mongoose.Schema;
ObjectId = Schema.ObjectId;

var WindPointSchema = new Schema({
  POINTID:{type:String, required: true},
  OSGBX:{type:Number, required: true},
  OSGBY:{type:Number, required: true},
  Wind_kwh2:{type:Number, required: true}
});

//connect to the database
var WindPoint = mongoose.model('WindPoint',WindPointSchema);

function populateWindPointCollection(){
  WindPoint.find({}).exec(function(err,collection){
    if(collection.length===0){
      console.log('need to populate wind point data...');
      var theWindPoints=["1,447776,1206366,4310","2,470776,1206366,4098","3,424776,1183366,5239","4,447776,1183366,5176","5,470776,1183366,4731","6,424776,1160366,5404","7,447776,1160366,5455","8,470776,1160366,5346","9,401776,1137366,5344","10,424776,1137366,5660","11,447776,1137366,5959","12,447776,1114366,5560","13,378776,1068366,4512","14,424776,1068366,4537","15,332776,1045366,3682","16,355776,1045366,3765","17,378776,1045366,4133","18,263776,1022366,2667","19,332776,1022366,3641","20,355776,1022366,3718","21,309776,999366,3076","22,332776,999366,3538","23,355776,999366,3700","24,148776,976366,3491","25,217776,976366,2258","26,240776,976366,1702","27,263776,976366,2034","28,286776,976366,2366","29,309776,976366,2683","30,332776,976366,2809","31,79776,953366,3746","32,102776,953366,3746","33,125776,953366,3604","34,148776,953366,3640","35,217776,953366,2130","36,240776,953366,1781","37,263776,953366,1629","38,286776,953366,2010","39,309776,953366,2372","40,332776,953366,2452","41,102776,930366,3864","42,125776,930366,3637","43,148776,930366,3735","44,194776,930366,2541","45,217776,930366,2120","46,240776,930366,1704","47,263776,930366,1586","48,286776,930366,1882","49,309776,930366,2182","50,332776,930366,2419","51,102776,907366,3815","52,125776,907366,3434","53,148776,907366,3205","54,194776,907366,2336","55,217776,907366,2105","56,240776,907366,1914","57,263776,907366,1732","58,286776,907366,1742","59,309776,907366,1928","60,79776,884366,5460","61,102776,884366,4089","62,125776,884366,3482","63,148776,884366,2773","64,171776,884366,2338","65,194776,884366,2293","66,217776,884366,2047","67,240776,884366,1931","68,263776,884366,1783","69,286776,884366,1692","70,56776,861366,5839","71,79776,861366,5684","72,102776,861366,4681","73,125776,861366,3596","74,148776,861366,2718","75,171776,861366,2288","76,194776,861366,2053","77,217776,861366,1928","78,240776,861366,1863","79,263776,861366,1630","80,286776,861366,1540","81,309776,861366,1574","82,332776,861366,1889","83,355776,861366,2321","84,378776,861366,3205","85,401776,861366,3361","86,79776,838366,5929","87,125776,838366,3666","88,148776,838366,2303","89,171776,838366,1710","90,194776,838366,1669","91,217776,838366,1676","92,240776,838366,1571","93,263776,838366,1357","94,286776,838366,1218","95,309776,838366,1539","96,332776,838366,1800","97,355776,838366,2080","98,378776,838366,2437","99,401776,838366,2869","100,79776,815366,5291","101,125776,815366,3794","102,148776,815366,2231","103,171776,815366,1558","104,194776,815366,1510","105,217776,815366,1557","106,240776,815366,1470","107,263776,815366,1223","108,286776,815366,805","109,309776,815366,1191","110,332776,815366,1517","111,355776,815366,1574","112,378776,815366,1864","113,401776,815366,2133","114,56776,792366,5254","115,79776,792366,5144","116,125776,792366,4131","117,148776,792366,2859","118,171776,792366,1789","119,194776,792366,1588","120,217776,792366,1205","121,240776,792366,1056","122,263776,792366,1315","123,286776,792366,1261","124,309776,792366,1432","125,332776,792366,1436","126,355776,792366,1243","127,378776,792366,2710","128,401776,792366,2779","129,56776,769366,5133","130,125776,769366,4392","131,148776,769366,3138","132,171776,769366,2379","133,194776,769366,1957","134,217776,769366,1221","135,240776,769366,1037","136,263776,769366,1775","137,286776,769366,1842","138,309776,769366,1748","139,332776,769366,1878","140,355776,769366,2384","141,378776,769366,4115","142,102776,746366,4629","143,125776,746366,4398","144,148776,746366,3524","145,171776,746366,2817","146,194776,746366,2315","147,217776,746366,2056","148,240776,746366,2905","149,263776,746366,3299","150,286776,746366,2138","151,309776,746366,1960","152,332776,746366,2120","153,355776,746366,2293","154,378776,746366,2976","155,125776,723366,4424","156,148776,723366,4234","157,171776,723366,3049","158,194776,723366,2603","159,217776,723366,2670","160,240776,723366,3802","161,263776,723366,4283","162,286776,723366,1360","163,309776,723366,1655","164,332776,723366,2109","165,355776,723366,2086","166,148776,700366,3525","167,171776,700366,3313","168,194776,700366,2487","169,217776,700366,2406","170,240776,700366,2464","171,263776,700366,2547","172,286776,700366,1739","173,309776,700366,1929","174,332776,700366,2254","175,355776,700366,2213","176,125776,677366,3416","177,148776,677366,3230","178,171776,677366,3037","179,194776,677366,2692","180,217776,677366,1942","181,240776,677366,1175","182,263776,677366,1951","183,286776,677366,2222","184,309776,677366,1898","185,332776,677366,2970","186,355776,677366,2253","187,378776,677366,2047","188,125776,654366,3436","189,148776,654366,3221","190,171776,654366,3015","191,194776,654366,2729","192,217776,654366,2207","193,240776,654366,1772","194,263776,654366,2238","195,286776,654366,2815","196,309776,654366,2386","197,332776,654366,2534","198,355776,654366,1999","199,378776,654366,1708","200,401776,654366,1749","201,125776,631366,2695","202,171776,631366,3427","203,194776,631366,2794","204,217776,631366,2521","205,240776,631366,2574","206,263776,631366,2583","207,286776,631366,3290","208,309776,631366,2508","209,332776,631366,1965","210,355776,631366,1821","211,378776,631366,1701","212,401776,631366,1688","213,424776,631366,1743","214,79776,608366,1912","215,102776,608366,1751","216,125776,608366,1405","217,171776,608366,3003","218,194776,608366,2584","219,217776,608366,2565","220,240776,608366,2521","221,263776,608366,2527","222,286776,608366,2389","223,309776,608366,1626","224,332776,608366,1353","225,355776,608366,1612","226,378776,608366,1438","227,401776,608366,1618","228,424776,608366,1792","229,56776,585366,1625","230,79776,585366,2202","231,102776,585366,1550","232,125776,585366,1153","233,148776,585366,1350","234,194776,585366,2312","235,217776,585366,2485","236,240776,585366,2617","237,263776,585366,2430","238,286776,585366,2323","239,309776,585366,1765","240,332776,585366,1590","241,355776,585366,1681","242,378776,585366,1501","243,401776,585366,1646","244,424776,585366,1766","245,33776,562366,1166","246,56776,562366,1276","247,79776,562366,1340","248,102776,562366,1177","249,125776,562366,1173","250,148776,562366,1442","251,194776,562366,2365","252,217776,562366,2543","253,240776,562366,2912","254,263776,562366,3061","255,286776,562366,2814","256,309776,562366,2000","257,332776,562366,1623","258,355776,562366,1676","259,378776,562366,1669","260,401776,562366,1717","261,424776,562366,1789","262,447776,562366,2021","263,33776,539366,1107","264,56776,539366,1136","265,79776,539366,1087","266,102776,539366,1113","267,125776,539366,1130","268,148776,539366,1320","269,171776,539366,1811","270,217776,539366,2579","271,240776,539366,3059","272,263776,539366,3396","273,286776,539366,3090","274,309776,539366,1945","275,332776,539366,1418","276,355776,539366,1724","277,378776,539366,1851","278,401776,539366,1758","279,424776,539366,1844","280,447776,539366,2197","281,33776,516366,907","282,56776,516366,1064","283,79776,516366,1136","284,102776,516366,1185","285,125776,516366,1206","286,148776,516366,1388","287,171776,516366,1677","288,217776,516366,2870","289,240776,516366,2984","290,286776,516366,3563","291,309776,516366,2505","292,332776,516366,1234","293,355776,516366,1643","294,378776,516366,2129","295,401776,516366,1736","296,424776,516366,1668","297,447776,516366,2083","298,470776,516366,3526","299,493776,516366,2577","300,33776,493366,958","301,56776,493366,1085","302,79776,493366,1181","303,102776,493366,1249","304,125776,493366,1213","305,148776,493366,1518","306,171776,493366,1915","307,217776,493366,3464","308,240776,493366,3277","309,309776,493366,2502","310,332776,493366,2002","311,355776,493366,1796","312,378776,493366,1808","313,401776,493366,1610","314,424776,493366,1357","315,447776,493366,1537","316,470776,493366,2112","317,493776,493366,2249","318,516776,493366,2018","319,33776,470366,1017","320,56776,470366,1071","321,102776,470366,1214","322,125776,470366,1222","323,148776,470366,1577","324,217776,470366,3756","325,240776,470366,3695","326,309776,470366,2262","327,332776,470366,2245","328,355776,470366,1989","329,378776,470366,1865","330,401776,470366,1626","331,424776,470366,1423","332,447776,470366,1338","333,470776,470366,1645","334,493776,470366,1796","335,516776,470366,1916","336,332776,447366,2517","337,355776,447366,2207","338,378776,447366,1856","339,401776,447366,1543","340,424776,447366,1544","341,447776,447366,1437","342,470776,447366,1571","343,493776,447366,1424","344,516776,447366,1576","345,332776,424366,2775","346,355776,424366,2418","347,378776,424366,1968","348,401776,424366,1624","349,424776,424366,1898","350,447776,424366,1736","351,470776,424366,1686","352,493776,424366,1621","353,516776,424366,1745","354,539776,424366,2052","355,240776,401366,4703","356,332776,401366,3655","357,355776,401366,2456","358,378776,401366,1845","359,401776,401366,2235","360,424776,401366,4396","361,447776,401366,2729","362,470776,401366,1837","363,493776,401366,1665","364,516776,401366,1876","365,539776,401366,2701","366,217776,378366,5366","367,240776,378366,5247","368,263776,378366,4336","369,286776,378366,2065","370,309776,378366,1456","371,332776,378366,1759","372,355776,378366,1929","373,378776,378366,1540","374,401776,378366,1754","375,424776,378366,3360","376,447776,378366,2412","377,470776,378366,1717","378,493776,378366,1428","379,516776,378366,1657","380,539776,378366,1993","381,562776,378366,2070","382,240776,355366,4951","383,263776,355366,5965","384,286776,355366,3349","385,309776,355366,1878","386,332776,355366,1185","387,355776,355366,1603","388,378776,355366,1639","389,401776,355366,1585","390,424776,355366,1672","391,447776,355366,952","392,470776,355366,1477","393,493776,355366,1735","394,516776,355366,1508","395,539776,355366,1869","396,562776,355366,2049","397,585776,355366,2093","398,608776,355366,2379","399,217776,332366,6588","400,240776,332366,4842","401,263776,332366,3684","402,286776,332366,1757","403,309776,332366,1986","404,332776,332366,1619","405,355776,332366,1399","406,378776,332366,1431","407,401776,332366,1487","408,424776,332366,1331","409,447776,332366,978","410,470776,332366,1463","411,493776,332366,1754","412,516776,332366,1722","413,539776,332366,1934","414,562776,332366,1871","415,585776,332366,1961","416,608776,332366,2336","417,631776,332366,2209","418,654776,332366,2118","419,263776,309366,2753","420,286776,309366,2239","421,309776,309366,2136","422,332776,309366,1577","423,355776,309366,1348","424,378776,309366,1244","425,401776,309366,1136","426,424776,309366,1098","427,447776,309366,1212","428,470776,309366,1505","429,493776,309366,1723","430,516776,309366,1614","431,539776,309366,1725","432,562776,309366,1652","433,585776,309366,1669","434,608776,309366,1895","435,631776,309366,2056","436,654776,309366,2134","437,263776,286366,1549","438,286776,286366,1782","439,309776,286366,1610","440,332776,286366,1278","441,355776,286366,1083","442,378776,286366,1026","443,401776,286366,878","444,424776,286366,764","445,447776,286366,751","446,470776,286366,1148","447,493776,286366,1424","448,516776,286366,1446","449,539776,286366,1558","450,562776,286366,1621","451,585776,286366,1587","452,608776,286366,1643","453,631776,286366,1851","454,654776,286366,2053","455,217776,263366,3849","456,240776,263366,3172","457,263776,263366,1356","458,286776,263366,1836","459,309776,263366,1585","460,332776,263366,939","461,355776,263366,914","462,378776,263366,1005","463,401776,263366,944","464,424776,263366,849","465,447776,263366,661","466,470776,263366,971","467,493776,263366,1137","468,516776,263366,1166","469,539776,263366,1305","470,562776,263366,1406","471,585776,263366,1333","472,608776,263366,1258","473,631776,263366,1547","474,654776,263366,1725","475,171776,240366,3534","476,194776,240366,3613","477,217776,240366,3894","478,240776,240366,3714","479,263776,240366,2670","480,286776,240366,1898","481,309776,240366,1764","482,332776,240366,814","483,355776,240366,658","484,378776,240366,1002","485,401776,240366,993","486,424776,240366,1106","487,447776,240366,983","488,470776,240366,969","489,493776,240366,1014","490,516776,240366,1078","491,539776,240366,1127","492,562776,240366,1130","493,585776,240366,1199","494,608776,240366,1265","495,631776,240366,1597","496,171776,217366,2777","497,194776,217366,2638","498,217776,217366,4159","499,240776,217366,4932","500,263776,217366,3780","501,286776,217366,2706","502,309776,217366,2082","503,332776,217366,1526","504,355776,217366,1305","505,378776,217366,1201","506,401776,217366,1220","507,424776,217366,1570","508,447776,217366,1002","509,470776,217366,880","510,493776,217366,826","511,516776,217366,919","512,539776,217366,1020","513,562776,217366,1084","514,585776,217366,1203","515,608776,217366,1525","516,631776,217366,1742","517,171776,194366,2733","518,194776,194366,2624","519,217776,194366,4303","520,240776,194366,5322","521,263776,194366,5873","522,286776,194366,3409","523,309776,194366,2287","524,332776,194366,1977","525,355776,194366,1805","526,378776,194366,1390","527,401776,194366,1152","528,424776,194366,1010","529,447776,194366,1066","530,470776,194366,936","531,493776,194366,734","532,516776,194366,896","533,539776,194366,958","534,562776,194366,1048","535,585776,194366,1211","536,608776,194366,1345","537,286776,171366,2497","538,309776,171366,1957","539,332776,171366,2055","540,355776,171366,2044","541,378776,171366,1407","542,401776,171366,1132","543,424776,171366,1215","544,447776,171366,1217","545,470776,171366,1137","546,493776,171366,992","547,516776,171366,941","548,539776,171366,907","549,562776,171366,955","550,585776,171366,1202","551,608776,171366,1478","552,631776,171366,1691","553,217776,148366,3146","554,240776,148366,2836","555,263776,148366,2693","556,286776,148366,2047","557,309776,148366,2028","558,332776,148366,1800","559,355776,148366,1581","560,378776,148366,1468","561,401776,148366,1161","562,424776,148366,1193","563,447776,148366,1342","564,470776,148366,1479","565,493776,148366,1079","566,516776,148366,876","567,539776,148366,860","568,562776,148366,1006","569,585776,148366,1224","570,608776,148366,1823","571,631776,148366,2735","572,217776,125366,2655","573,240776,125366,2528","574,263776,125366,2342","575,286776,125366,1703","576,309776,125366,1643","577,332776,125366,1591","578,355776,125366,1316","579,378776,125366,1550","580,401776,125366,1419","581,424776,125366,1413","582,447776,125366,1834","583,470776,125366,1332","584,493776,125366,1317","585,516776,125366,1303","586,539776,125366,1020","587,562776,125366,763","588,585776,125366,1062","589,608776,125366,1788","590,631776,125366,2512","591,217776,102366,2209","592,240776,102366,2299","593,263776,102366,2171","594,286776,102366,1865","595,309776,102366,1228","596,332776,102366,1576","597,355776,102366,1756","598,378776,102366,1898","599,401776,102366,1457","600,424776,102366,1741","601,447776,102366,3593","602,470776,102366,2286","603,493776,102366,1800","604,516776,102366,1824","605,539776,102366,1351","606,562776,102366,684","607,585776,102366,1015","608,608776,102366,1490","609,194776,79366,1978","610,217776,79366,1793","611,240776,79366,2236","612,263776,79366,2090","613,286776,79366,1966","614,309776,79366,1785","615,332776,79366,2154","616,355776,79366,3157","617,378776,79366,3179","618,401776,79366,1993","619,424776,79366,2252","620,447776,79366,3118","621,470776,79366,2588","622,148776,56366,2067","623,171776,56366,2072","624,194776,56366,2074","625,217776,56366,1967","626,240776,56366,2782","627,263776,56366,2657","628,286776,56366,2314","629,125776,33366,2485","630,148776,33366,2139","631,171776,33366,2293","632,194776,33366,2179","633,263776,33366,2572","634,286776,33366,2378","635,79776,10366,3481","636,148776,10366,2389","637,171776,10366,2424"];
      for(i=0;i<theWindPoints.length;i++){
        var windPointArray=theWindPoints[i].split(',');
        console.log("Wind: "+windPointArray);
        WindPoint.create({POINTID:windPointArray[0],OSGBX:windPointArray[1],OSGBY:windPointArray[2],Wind_kwh2:windPointArray[3]});
      }
    }
  })
}

exports.populateWindPointCollection=populateWindPointCollection;